<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cable Ampacity Calculator</title>
  <style>
    body {
      background: #23262c;
      color: #fff;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    .container {
      margin-top: 60px;
      background: #282c34;
      border-radius: 14px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.18);
      padding: 36px 32px 32px 32px;
      max-width: 420px;
      width: 100%;
      text-align: center;
    }
    h1 {
      margin-bottom: 10px;
      font-size: 2.2rem;
      letter-spacing: 1px;
      color: #61dafb;
    }
    .input-group {
      margin: 18px 0 24px 0;
    }
    label {
      font-size: 1.1rem;
      margin-right: 8px;
    }
    input[type="number"] {
      padding: 10px;
      font-size: 1.1rem;
      border-radius: 6px;
      border: 1px solid #bbb;
      width: 120px;
      text-align: center;
      margin-right: 8px;
    }
    .results {
      margin-top: 18px;
      background: #22252b;
      border-radius: 10px;
      padding: 18px 10px 10px 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.12);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #444;
      padding: 8px 12px;
      font-size: 1.05rem;
    }
    th {
      background: #353a45;
      color: #61dafb;
    }
    tr:nth-child(even) {
      background: #2e323a;
    }
    tr:nth-child(odd) {
      background: #23262c;
    }
    td {
      color: #fff;
    }
    @media (max-width: 600px) {
      .container {
        padding: 18px 4px 18px 4px;
        max-width: 98vw;
      }
      th, td {
        padding: 6px 4px;
        font-size: 0.98rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Cable Ampacity Calculator</h1>
    <div class="input-group">
      <label for="currentInput">Rated Current (Amps):</label>
      <input type="number" id="currentInput" min="0" placeholder="e.g. 12" />
    </div>
    <div id="results" class="results" style="display:none;"></div>
  </div>
  <div style="margin-top: 24px; font-size: 0.95rem; color: #bbb; text-align: center;">
    Ampacity data referenced from SEMI S22-1110b Standard.
  </div>

  <div class="cable-library" style="margin: 40px auto 0 auto; max-width: 600px; background: #23262c; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.12); padding: 28px 18px;">
    <h2 style="color: #61dafb; margin-bottom: 18px;">Cable Library</h2>
    <form id="cableForm" style="display: flex; flex-wrap: wrap; gap: 12px; align-items: flex-end; justify-content: center;">
      <div>
        <label for="cableClass">Class:</label><br>
        <select id="cableClass" required>
          <option value="Single Core">Single Core</option>
          <option value="Multi Core">Multi Core</option>
          <option value="Robotic Cable">Robotic Cable</option>
          <option value="Flexible Cable">Flexible Cable</option>
        </select>
      </div>
      <div>
        <label for="oemPart">OEM Part Number:</label><br>
        <input type="text" id="oemPart" required style="width: 120px;" />
      </div>
      <div>
        <label for="cableDesc">Description:</label><br>
        <input type="text" id="cableDesc" required style="width: 160px;" />
      </div>
      <div>
        <label for="numCores">No. of Cores:</label><br>
        <input type="number" id="numCores" min="1" required style="width: 60px;" />
      </div>
      <div>
        <button type="submit" style="padding: 8px 18px; background: #61dafb; color: #23262c; border: none; border-radius: 6px; font-weight: bold; cursor: pointer;">Add Cable</button>
      </div>
    </form>
    <div id="cableTables" style="margin-top: 30px;"></div>
    <div style="margin-top: 18px;">
      <input type="text" id="searchOEM" placeholder="Search by OEM Part No" style="padding: 7px 12px; border-radius: 6px; border: 1px solid #bbb; width: 220px; font-size: 1rem;" />
    </div>
  </div>
  <script>
    // Metric ampacity table for 60°C (AWG, mm², Amps, Bending Space mm) from the image
    const ampacityTable = [
      { awg: '22', mm2: 0.25, amps: 3, bend_mm: 13 },
      { awg: '20', mm2: 0.5, amps: 5, bend_mm: 13 },
      { awg: '18', mm2: 0.75, amps: 6, bend_mm: 13 },
      { awg: '16', mm2: 1.0, amps: 8, bend_mm: 19 },
      { awg: '14', mm2: 1.5, amps: 11, bend_mm: 19 },
      { awg: '12', mm2: 2.5, amps: 17, bend_mm: 25 },
      { awg: '10', mm2: 4.0, amps: 24, bend_mm: 25 },
      { awg: '8', mm2: 6.0, amps: 32, bend_mm: 38 },
      { awg: '6', mm2: 10.0, amps: 45, bend_mm: 51 },
      { awg: '4', mm2: 16.0, amps: 60, bend_mm: 76 },
    ];

    const input = document.getElementById('currentInput');
    const resultsDiv = document.getElementById('results');

    input.addEventListener('input', function() {
      const value = parseFloat(input.value);
      if (isNaN(value) || value <= 0) {
        resultsDiv.style.display = 'none';
        resultsDiv.innerHTML = '';
        return;
      }
      const filtered = ampacityTable.filter(row => value <= row.amps);
      let html = '<h2>Suitable Cable Sizes (60°C)</h2>';
      if (filtered.length > 0) {
        html += '<table><thead><tr><th>AWG</th><th>Metric (mm²)</th><th>Max Amps</th><th>Bending Space (mm)</th></tr></thead><tbody>';
        filtered.forEach(row => {
          html += `<tr><td>${row.awg}</td><td>${row.mm2}</td><td>${row.amps}</td><td>${row.bend_mm}</td></tr>`;
        });
        html += '</tbody></table>';
      } else {
        html += '<div style="margin-top:10px; color:#ff7675;">No suitable size found</div>';
      }
      resultsDiv.innerHTML = html;
      resultsDiv.style.display = 'block';
    });

    // --- Cable Library Section ---
    const cableForm = document.getElementById('cableForm');
    const cableTablesDiv = document.getElementById('cableTables');
    let cableLibrary = {
      'Single Core': [],
      'Multi Core': [],
      'Robotic Cable': [],
      'Flexible Cable': []
    };

    cableForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const cableClass = document.getElementById('cableClass').value;
      const oemPart = document.getElementById('oemPart').value.trim();
      const cableDesc = document.getElementById('cableDesc').value.trim();
      const numCores = document.getElementById('numCores').value.trim();
      if (!cableClass || !oemPart || !cableDesc || !numCores) return;
      cableLibrary[cableClass].push({ oemPart, cableDesc, numCores });
      cableForm.reset();
      renderCableTables();
    });

    const searchOEM = document.getElementById('searchOEM');
    searchOEM.addEventListener('input', renderCableTables);

    function renderCableTables() {
      let html = '';
      const searchVal = searchOEM.value.trim().toLowerCase();
      let found = false;
      Object.keys(cableLibrary).forEach(cls => {
        // Filter cables by search value
        const filteredCables = searchVal
          ? cableLibrary[cls].filter(cable => cable.oemPart.toLowerCase().includes(searchVal))
          : cableLibrary[cls];
        if (filteredCables.length === 0) return;
        found = true;
        html += `<h3 style='color:#ffb347; margin-bottom:6px;'>${cls}</h3>`;
        html += `<table style='margin-bottom:18px;'><thead><tr><th>OEM Part Number</th><th>Description</th><th>No. of Cores</th><th>Action</th></tr></thead><tbody>`;
        filteredCables.forEach((cable, idx) => {
          html += `<tr><td>${cable.oemPart}</td><td>${cable.cableDesc}</td><td>${cable.numCores}</td><td><button class='remove-cable-btn' data-class='${cls}' data-idx='${cableLibrary[cls].indexOf(cable)}' style='padding:3px 10px;background:#ff7675;color:#fff;border:none;border-radius:4px;cursor:pointer;'>Remove</button></td></tr>`;
        });
        html += '</tbody></table>';
      });
      cableTablesDiv.innerHTML = found ? html : '<div style="color:#bbb;">No cables found.</div>';
    }
    renderCableTables();

    // Remove cable event (event delegation)
    cableTablesDiv.addEventListener('click', function(e) {
      if (e.target.classList.contains('remove-cable-btn')) {
        const cableClass = e.target.getAttribute('data-class');
        const idx = parseInt(e.target.getAttribute('data-idx'));
        if (confirm('Are you sure you want to remove this cable?')) {
          cableLibrary[cableClass].splice(idx, 1);
          renderCableTables();
        }
      }
    });
  </script>
</body>
</html> 
